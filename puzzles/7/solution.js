const rawInput =
    '$ cd /\n' +
    '$ ls\n' +
    'dir cmwrq\n' +
    'dir ftrccld\n' +
    'dir jjlbmtw\n' +
    'dir jpncfpb\n' +
    'dir mddr\n' +
    'dir mthvntdd\n' +
    '55644 pjts.dzh\n' +
    'dir ptzsl\n' +
    'dir wmqc\n' +
    '$ cd cmwrq\n' +
    '$ ls\n' +
    'dir dtbzzl\n' +
    'dir pjnghbm\n' +
    '16144 rvs\n' +
    '50956 swngfrsj.pcj\n' +
    'dir vhvn\n' +
    'dir vrt\n' +
    'dir zgrjmtcq\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    '42503 ljhpmvd.zqf\n' +
    'dir wwpnn\n' +
    '$ cd wwpnn\n' +
    '$ ls\n' +
    '58541 jjdgzwnq\n' +
    'dir lwqgsbg\n' +
    'dir nztw\n' +
    'dir rdtjztmt\n' +
    '101609 sqqpcvq.llm\n' +
    'dir ssdlqcrw\n' +
    '$ cd lwqgsbg\n' +
    '$ ls\n' +
    '207528 cpqhb.jsf\n' +
    '38543 cqjgspw\n' +
    'dir dtbzzl\n' +
    '106337 dtbzzl.njz\n' +
    '302201 pdv.ppg\n' +
    'dir pjts\n' +
    '175215 pvczm.cfw\n' +
    'dir sbvljdh\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    '252091 vhvn.zqv\n' +
    '$ cd ..\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    '155681 bdbfjbgt.rwg\n' +
    '219192 dtcz.gqt\n' +
    '$ cd ..\n' +
    '$ cd sbvljdh\n' +
    '$ ls\n' +
    'dir rdrqc\n' +
    'dir rtfpcswj\n' +
    '$ cd rdrqc\n' +
    '$ ls\n' +
    '242263 pjts.mbt\n' +
    '$ cd ..\n' +
    '$ cd rtfpcswj\n' +
    '$ ls\n' +
    '228044 ssgcjt.twr\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nztw\n' +
    '$ ls\n' +
    '30777 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd rdtjztmt\n' +
    '$ ls\n' +
    '276602 pvczm.cfw\n' +
    'dir rzbb\n' +
    '305089 ssdlqcrw.dgb\n' +
    '$ cd rzbb\n' +
    '$ ls\n' +
    '155253 pvczm.cfw\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '22423 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd pjnghbm\n' +
    '$ ls\n' +
    '189296 ctqfg.ljd\n' +
    'dir dtbzzl\n' +
    'dir pjts\n' +
    '205394 ssdlqcrw.lgv\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    '239152 fbb.gtn\n' +
    'dir hlw\n' +
    '39308 hsnbffzf.qvc\n' +
    '211316 nhm.zhz\n' +
    'dir nztw\n' +
    'dir pvsjpn\n' +
    '230237 twjq\n' +
    '$ cd hlw\n' +
    '$ ls\n' +
    'dir lfqqrp\n' +
    'dir nztw\n' +
    '$ cd lfqqrp\n' +
    '$ ls\n' +
    'dir mbmfpz\n' +
    'dir mdhfdlw\n' +
    'dir pjts\n' +
    'dir qzs\n' +
    'dir ssdlqcrw\n' +
    '$ cd mbmfpz\n' +
    '$ ls\n' +
    'dir fsrbwl\n' +
    'dir lsmpw\n' +
    '$ cd fsrbwl\n' +
    '$ ls\n' +
    '154657 ftlc.zbr\n' +
    'dir ltsj\n' +
    '228929 pvczm.cfw\n' +
    'dir ssdlqcrw\n' +
    '234216 tdl\n' +
    '$ cd ltsj\n' +
    '$ ls\n' +
    '51204 vmq.sjg\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '64928 nztw.gpn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd lsmpw\n' +
    '$ ls\n' +
    '61867 dtbzzl.dgj\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mdhfdlw\n' +
    '$ ls\n' +
    '92462 dtbzzl.jmq\n' +
    '239442 tczcgf.zwj\n' +
    '$ cd ..\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    '144464 dtbzzl.lnz\n' +
    'dir pjts\n' +
    '118500 swgt.smz\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    '173783 dvztnn\n' +
    '103088 jlv.pgh\n' +
    '39332 nhm.zhz\n' +
    '266947 pppfcg\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd qzs\n' +
    '$ ls\n' +
    '11155 cpqhb.jsf\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '192414 gcwqcwrf.vmb\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nztw\n' +
    '$ ls\n' +
    '313009 nwt\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nztw\n' +
    '$ ls\n' +
    '280535 dtbzzl.grj\n' +
    '269725 ssdlqcrw.tqs\n' +
    '$ cd ..\n' +
    '$ cd pvsjpn\n' +
    '$ ls\n' +
    '105150 jvjb.mdd\n' +
    '142501 nztw.cvp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    'dir btc\n' +
    'dir tpwcmvch\n' +
    '259357 vqfsh.smp\n' +
    '$ cd btc\n' +
    '$ ls\n' +
    '5264 gdjpql.wqr\n' +
    '$ cd ..\n' +
    '$ cd tpwcmvch\n' +
    '$ ls\n' +
    '141657 jjdgzwnq\n' +
    '15650 nhm.zhz\n' +
    'dir nlrq\n' +
    '182100 qgf.qgj\n' +
    '302332 qshf\n' +
    '244799 vhvn\n' +
    'dir wvnqzjf\n' +
    '$ cd nlrq\n' +
    '$ ls\n' +
    'dir dtbzzl\n' +
    '207207 gnd.vmb\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    '271143 wjbzmc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wvnqzjf\n' +
    '$ ls\n' +
    '64128 mtzc.rqb\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '187526 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd vrt\n' +
    '$ ls\n' +
    'dir drrnm\n' +
    'dir fqr\n' +
    '270995 nztw.mfg\n' +
    '137476 vqfsh.smp\n' +
    '$ cd drrnm\n' +
    '$ ls\n' +
    '250912 pvczm.cfw\n' +
    '$ cd ..\n' +
    '$ cd fqr\n' +
    '$ ls\n' +
    '229272 nszfcq\n' +
    'dir nztw\n' +
    '170643 phh.pdl\n' +
    '$ cd nztw\n' +
    '$ ls\n' +
    'dir bqf\n' +
    '$ cd bqf\n' +
    '$ ls\n' +
    '9998 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zgrjmtcq\n' +
    '$ ls\n' +
    '109025 vhvn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ftrccld\n' +
    '$ ls\n' +
    'dir dtbzzl\n' +
    'dir fvmh\n' +
    'dir fwztt\n' +
    '22306 jngjc.mpd\n' +
    '190320 lnr.jhn\n' +
    'dir lsvvn\n' +
    '295676 nztw\n' +
    '135025 nztw.ssc\n' +
    'dir pjts\n' +
    'dir qglhlggq\n' +
    'dir rslphgp\n' +
    '247764 ssdlqcrw.jnm\n' +
    'dir vhvn\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    'dir fgwh\n' +
    '$ cd fgwh\n' +
    '$ ls\n' +
    'dir dpdvswq\n' +
    '$ cd dpdvswq\n' +
    '$ ls\n' +
    'dir jsstq\n' +
    '248465 vhvn\n' +
    '$ cd jsstq\n' +
    '$ ls\n' +
    '252517 nztw\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd fvmh\n' +
    '$ ls\n' +
    'dir djcn\n' +
    'dir dtbzzl\n' +
    '303052 fbnnfsbp.zzg\n' +
    '77238 mdpcghq.nls\n' +
    'dir mvppnhr\n' +
    '238683 ptw\n' +
    'dir zdqlwnc\n' +
    '$ cd djcn\n' +
    '$ ls\n' +
    '8600 jjdgzwnq\n' +
    '$ cd ..\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    'dir sppdjcm\n' +
    'dir vtnzqtvj\n' +
    '$ cd sppdjcm\n' +
    '$ ls\n' +
    '237925 dvfctpg.zbn\n' +
    'dir fghb\n' +
    'dir pfjdsm\n' +
    'dir pjts\n' +
    '314661 zfchfq\n' +
    '$ cd fghb\n' +
    '$ ls\n' +
    '280081 cpqhb.jsf\n' +
    '88448 wbcpnnvs.sjc\n' +
    '$ cd ..\n' +
    '$ cd pfjdsm\n' +
    '$ ls\n' +
    '256877 bssmgf\n' +
    '127978 drwttw\n' +
    '103674 hznr.hjg\n' +
    '$ cd ..\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    '191709 qhwwpzn.dsc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vtnzqtvj\n' +
    '$ ls\n' +
    'dir rrl\n' +
    '$ cd rrl\n' +
    '$ ls\n' +
    '281036 jjdgzwnq\n' +
    'dir lzlswv\n' +
    'dir sjsqnvq\n' +
    '245082 ssdlqcrw.smq\n' +
    '$ cd lzlswv\n' +
    '$ ls\n' +
    'dir dmh\n' +
    '$ cd dmh\n' +
    '$ ls\n' +
    '41234 hlhgn.mvr\n' +
    '233542 tgv.csn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd sjsqnvq\n' +
    '$ ls\n' +
    '221327 qjncmbn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mvppnhr\n' +
    '$ ls\n' +
    'dir ldwv\n' +
    '176153 nztw\n' +
    'dir rmdjdqvl\n' +
    'dir tmj\n' +
    'dir vhvn\n' +
    '$ cd ldwv\n' +
    '$ ls\n' +
    '161179 mjsm\n' +
    '$ cd ..\n' +
    '$ cd rmdjdqvl\n' +
    '$ ls\n' +
    'dir gnztqmhv\n' +
    'dir lpmhfr\n' +
    'dir tphjm\n' +
    '$ cd gnztqmhv\n' +
    '$ ls\n' +
    '176043 qlds.mpq\n' +
    '$ cd ..\n' +
    '$ cd lpmhfr\n' +
    '$ ls\n' +
    'dir jrrdsd\n' +
    '$ cd jrrdsd\n' +
    '$ ls\n' +
    '114477 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tphjm\n' +
    '$ ls\n' +
    '74809 dcfmjn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd tmj\n' +
    '$ ls\n' +
    '252001 cpqhb.jsf\n' +
    '49666 pqpq\n' +
    '139885 qpj.wpb\n' +
    '116339 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '89397 dtbzzl.hvp\n' +
    '105454 pvczm.cfw\n' +
    '280352 zdzm\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zdqlwnc\n' +
    '$ ls\n' +
    'dir fbhcv\n' +
    '8676 jjdgzwnq\n' +
    '99885 nhm.zhz\n' +
    '234563 pjts.gdj\n' +
    'dir rsdltnvc\n' +
    '$ cd fbhcv\n' +
    '$ ls\n' +
    '71695 hrzzgwqt\n' +
    '296401 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd rsdltnvc\n' +
    '$ ls\n' +
    '41623 gcvtqf\n' +
    '233747 wdcssvgh.vfs\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd fwztt\n' +
    '$ ls\n' +
    '96594 jjdgzwnq\n' +
    '245415 mtp.szl\n' +
    '129782 pjts.jjr\n' +
    '308104 pvczm.cfw\n' +
    'dir ssdlqcrw\n' +
    '155109 vhvn.smj\n' +
    'dir vvzsr\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    'dir bzd\n' +
    '292228 dtbzzl.tdb\n' +
    '107505 ssdlqcrw\n' +
    '181384 tfnrpsd\n' +
    '$ cd bzd\n' +
    '$ ls\n' +
    '84648 brdc\n' +
    '171457 vhvn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vvzsr\n' +
    '$ ls\n' +
    'dir bcdqrs\n' +
    '147437 jjdgzwnq\n' +
    'dir ssdlqcrw\n' +
    '197054 ssdlqcrw.dpz\n' +
    'dir vhvn\n' +
    'dir wthshgg\n' +
    '$ cd bcdqrs\n' +
    '$ ls\n' +
    '297401 pspd.dlq\n' +
    '136072 pvczm.cfw\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '293104 dtbzzl.pdh\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '178932 gvrht.cbm\n' +
    '$ cd ..\n' +
    '$ cd wthshgg\n' +
    '$ ls\n' +
    'dir dppwvtmp\n' +
    'dir ljgszd\n' +
    '88822 pcmw.bbq\n' +
    '255776 pvczm.cfw\n' +
    '163501 ssdlqcrw\n' +
    'dir vbjsmgp\n' +
    'dir vzqc\n' +
    'dir zmpdrpd\n' +
    '$ cd dppwvtmp\n' +
    '$ ls\n' +
    '45608 dtbzzl.lfq\n' +
    '164648 gdch.bzp\n' +
    '65225 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd ljgszd\n' +
    '$ ls\n' +
    '125627 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd vbjsmgp\n' +
    '$ ls\n' +
    '236951 zpbgb.zmv\n' +
    '$ cd ..\n' +
    '$ cd vzqc\n' +
    '$ ls\n' +
    '234565 fjfpbjjp\n' +
    '254986 jjdgzwnq\n' +
    '164495 nztw.qhz\n' +
    'dir vhvn\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '199196 nztw\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zmpdrpd\n' +
    '$ ls\n' +
    '123210 bznqq.dbv\n' +
    '141163 jjdgzwnq\n' +
    '302352 wjf.tdv\n' +
    '92016 wljnwsh\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd lsvvn\n' +
    '$ ls\n' +
    '282867 phv.ncc\n' +
    '$ cd ..\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    '40866 jjdgzwnq\n' +
    '$ cd ..\n' +
    '$ cd qglhlggq\n' +
    '$ ls\n' +
    '19577 dtbzzl.ngb\n' +
    '21171 jjdgzwnq\n' +
    '136074 pvczm.cfw\n' +
    '212428 rlpjjf.lvh\n' +
    'dir vhvn\n' +
    '274669 wcqlws.ndv\n' +
    'dir wpvq\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '183301 cbppfp.vbc\n' +
    '84069 cqnz\n' +
    'dir dtbzzl\n' +
    'dir mdng\n' +
    '126627 pjts.pvp\n' +
    'dir ptqq\n' +
    '47594 pvczm.cfw\n' +
    '154978 qlnnfbvd\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    '50385 ccgbrdmb.hrr\n' +
    '22427 rzlwl.jbt\n' +
    '$ cd ..\n' +
    '$ cd mdng\n' +
    '$ ls\n' +
    'dir gdqqtvnp\n' +
    '224013 gtv.tbz\n' +
    '121884 jjdgzwnq\n' +
    'dir nrmhpblm\n' +
    '142950 nztw\n' +
    '9710 pvczm.cfw\n' +
    'dir vhvn\n' +
    '$ cd gdqqtvnp\n' +
    '$ ls\n' +
    '292349 vhvn.nfr\n' +
    '$ cd ..\n' +
    '$ cd nrmhpblm\n' +
    '$ ls\n' +
    '52703 jbvd.mlc\n' +
    '78268 pfns.lpr\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '274549 pjts\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ptqq\n' +
    '$ ls\n' +
    '257967 jqppq.lgb\n' +
    '166450 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd wpvq\n' +
    '$ ls\n' +
    '173437 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd rslphgp\n' +
    '$ ls\n' +
    '29192 pvczm.cfw\n' +
    '18984 ttpfnqvn.cdr\n' +
    '302301 vqfsh.smp\n' +
    '291211 vsvtc.wwf\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    'dir ssdlqcrw\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '76864 jpwvws.fwv\n' +
    '26365 nztw.css\n' +
    '185966 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd jjlbmtw\n' +
    '$ ls\n' +
    '211239 ctfhmm.ssv\n' +
    '230020 nztw\n' +
    '109641 sqtjn\n' +
    '$ cd ..\n' +
    '$ cd jpncfpb\n' +
    '$ ls\n' +
    'dir hjgwcmh\n' +
    '286054 pcffhsw.bdm\n' +
    '260831 pvczm.cfw\n' +
    'dir vhvn\n' +
    '$ cd hjgwcmh\n' +
    '$ ls\n' +
    '92277 bbjhc\n' +
    'dir fmst\n' +
    'dir gzjq\n' +
    '$ cd fmst\n' +
    '$ ls\n' +
    '105833 cpqhb.jsf\n' +
    '315858 nhm.zhz\n' +
    '233459 nztw\n' +
    '$ cd ..\n' +
    '$ cd gzjq\n' +
    '$ ls\n' +
    'dir prjqfwf\n' +
    'dir ssdlqcrw\n' +
    '$ cd prjqfwf\n' +
    '$ ls\n' +
    '151003 jnmgdb.rhn\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '103688 cpqhb.jsf\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '14901 cpqhb.jsf\n' +
    '98212 tztzq\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mddr\n' +
    '$ ls\n' +
    'dir qpfjp\n' +
    '$ cd qpfjp\n' +
    '$ ls\n' +
    'dir cfhv\n' +
    '$ cd cfhv\n' +
    '$ ls\n' +
    'dir ssdlqcrw\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '134280 vvnpvrqb.hdv\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mthvntdd\n' +
    '$ ls\n' +
    'dir bcdcz\n' +
    'dir cngbf\n' +
    '62389 cwtvl\n' +
    'dir mqjjbq\n' +
    'dir nhblb\n' +
    '6743 pvczm.cfw\n' +
    'dir ssdlqcrw\n' +
    'dir ttvgr\n' +
    'dir vdmm\n' +
    'dir wnhnwjm\n' +
    'dir zdvbsb\n' +
    '$ cd bcdcz\n' +
    '$ ls\n' +
    '213688 dtbzzl.hsv\n' +
    'dir lbvbc\n' +
    '100222 nndbhrf\n' +
    '115627 rqnsfbz.rmf\n' +
    'dir tvgclpsc\n' +
    '258672 vqfsh.smp\n' +
    '163927 whgmd\n' +
    '$ cd lbvbc\n' +
    '$ ls\n' +
    '224836 fpfpwtf.zfz\n' +
    '103806 nztw\n' +
    '$ cd ..\n' +
    '$ cd tvgclpsc\n' +
    '$ ls\n' +
    '76900 cpqhb.jsf\n' +
    '282820 qtffdmsg\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd cngbf\n' +
    '$ ls\n' +
    'dir hstph\n' +
    '12089 jqvnttq.dsh\n' +
    '38052 nztw.sqj\n' +
    'dir qrnpjz\n' +
    '$ cd hstph\n' +
    '$ ls\n' +
    '172788 pjts.qmt\n' +
    '$ cd ..\n' +
    '$ cd qrnpjz\n' +
    '$ ls\n' +
    'dir blzc\n' +
    'dir rvl\n' +
    'dir zvhtzqqc\n' +
    '$ cd blzc\n' +
    '$ ls\n' +
    '108342 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd rvl\n' +
    '$ ls\n' +
    'dir bcrf\n' +
    'dir sjbr\n' +
    '$ cd bcrf\n' +
    '$ ls\n' +
    '182498 cpqhb.jsf\n' +
    'dir dcb\n' +
    '14228 ggsq\n' +
    'dir gnhvtgm\n' +
    '$ cd dcb\n' +
    '$ ls\n' +
    'dir zlgjzcjv\n' +
    '$ cd zlgjzcjv\n' +
    '$ ls\n' +
    '18316 cpqhb.jsf\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd gnhvtgm\n' +
    '$ ls\n' +
    '110236 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd sjbr\n' +
    '$ ls\n' +
    '133009 cscbp\n' +
    '315907 vtpmnwt\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd zvhtzqqc\n' +
    '$ ls\n' +
    'dir fglfpn\n' +
    'dir gtzrq\n' +
    'dir hfgdcf\n' +
    '274977 ltbzhjn\n' +
    'dir msc\n' +
    'dir ssdlqcrw\n' +
    '$ cd fglfpn\n' +
    '$ ls\n' +
    '39153 dvhjpfc\n' +
    '$ cd ..\n' +
    '$ cd gtzrq\n' +
    '$ ls\n' +
    '60625 sqljdlpz.wpw\n' +
    '$ cd ..\n' +
    '$ cd hfgdcf\n' +
    '$ ls\n' +
    '36016 qdvnn.pbt\n' +
    '$ cd ..\n' +
    '$ cd msc\n' +
    '$ ls\n' +
    '56601 cpqhb.jsf\n' +
    'dir hrz\n' +
    'dir vlhllqz\n' +
    '$ cd hrz\n' +
    '$ ls\n' +
    '241511 fhngt.mlb\n' +
    '286505 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd vlhllqz\n' +
    '$ ls\n' +
    '157880 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '121507 dssrvr\n' +
    '295897 lvtwlb.whn\n' +
    '12047 pjts.gqc\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mqjjbq\n' +
    '$ ls\n' +
    '157818 blbmb.fcv\n' +
    '119103 ccppbmqb.pbt\n' +
    '141463 cpqhb.jsf\n' +
    '197900 drhmws.fdd\n' +
    'dir fmvp\n' +
    'dir rhldnjlt\n' +
    '175029 vqfsh.smp\n' +
    '$ cd fmvp\n' +
    '$ ls\n' +
    'dir dhnn\n' +
    'dir dlcvwqw\n' +
    '131432 hnv.tlr\n' +
    'dir jzqt\n' +
    '98127 nhm.zhz\n' +
    'dir nvsdbjj\n' +
    'dir pjts\n' +
    '9179 pvczm.cfw\n' +
    '121310 vqfsh.smp\n' +
    '$ cd dhnn\n' +
    '$ ls\n' +
    '173921 qcjsdg.zfg\n' +
    '58654 vhvn.csb\n' +
    '$ cd ..\n' +
    '$ cd dlcvwqw\n' +
    '$ ls\n' +
    '285116 zjb\n' +
    '$ cd ..\n' +
    '$ cd jzqt\n' +
    '$ ls\n' +
    '104478 clmzwnf\n' +
    '299622 cpqhb.jsf\n' +
    '301236 jjdgzwnq\n' +
    'dir nsvlqq\n' +
    '136737 vhvn\n' +
    'dir vmp\n' +
    '12932 wrd.jsz\n' +
    '$ cd nsvlqq\n' +
    '$ ls\n' +
    '111712 dtbzzl.htn\n' +
    '213593 hvzlmtj.ztr\n' +
    '$ cd ..\n' +
    '$ cd vmp\n' +
    '$ ls\n' +
    '104275 jjdgzwnq\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nvsdbjj\n' +
    '$ ls\n' +
    '180999 jjdgzwnq\n' +
    '219819 vhvn\n' +
    '$ cd ..\n' +
    '$ cd pjts\n' +
    '$ ls\n' +
    '111715 npzn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd rhldnjlt\n' +
    '$ ls\n' +
    'dir ffhcbvmf\n' +
    'dir vprlq\n' +
    '$ cd ffhcbvmf\n' +
    '$ ls\n' +
    '247668 cpqhb.jsf\n' +
    '$ cd ..\n' +
    '$ cd vprlq\n' +
    '$ ls\n' +
    '168090 jmmtz.fzt\n' +
    '68360 nhm.zhz\n' +
    '304580 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd nhblb\n' +
    '$ ls\n' +
    '154794 hrgsrbnj.tch\n' +
    'dir nfwl\n' +
    'dir ptc\n' +
    'dir rng\n' +
    '50110 swtt.tct\n' +
    'dir vhvn\n' +
    'dir vlj\n' +
    '$ cd nfwl\n' +
    '$ ls\n' +
    'dir lqs\n' +
    'dir mlvnlz\n' +
    '$ cd lqs\n' +
    '$ ls\n' +
    'dir mbcft\n' +
    'dir ntmvt\n' +
    'dir nztw\n' +
    '$ cd mbcft\n' +
    '$ ls\n' +
    '78188 bdnr\n' +
    '194668 pjts\n' +
    '$ cd ..\n' +
    '$ cd ntmvt\n' +
    '$ ls\n' +
    '75647 nhm.zhz\n' +
    '186651 scsvrqpf.jhb\n' +
    '$ cd ..\n' +
    '$ cd nztw\n' +
    '$ ls\n' +
    '164920 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd mlvnlz\n' +
    '$ ls\n' +
    '289891 wjf\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ptc\n' +
    '$ ls\n' +
    '190002 pjts.vmh\n' +
    '$ cd ..\n' +
    '$ cd rng\n' +
    '$ ls\n' +
    '39093 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd vhvn\n' +
    '$ ls\n' +
    '275854 hbv\n' +
    '$ cd ..\n' +
    '$ cd vlj\n' +
    '$ ls\n' +
    'dir qqqrm\n' +
    '203390 ssdlqcrw\n' +
    '$ cd qqqrm\n' +
    '$ ls\n' +
    'dir wcpllh\n' +
    '$ cd wcpllh\n' +
    '$ ls\n' +
    'dir pwg\n' +
    '$ cd pwg\n' +
    '$ ls\n' +
    '19102 dtbzzl.qvp\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ssdlqcrw\n' +
    '$ ls\n' +
    '181610 vqfsh.smp\n' +
    '$ cd ..\n' +
    '$ cd ttvgr\n' +
    '$ ls\n' +
    'dir vpcpd\n' +
    '$ cd vpcpd\n' +
    '$ ls\n' +
    '28102 mbb.szv\n' +
    '304017 rshrzjhn\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd vdmm\n' +
    '$ ls\n' +
    '95079 tssjcd.lfg\n' +
    '$ cd ..\n' +
    '$ cd wnhnwjm\n' +
    '$ ls\n' +
    '67931 mmhcgsc.zjf\n' +
    '22062 nqpzsf.ccc\n' +
    '219285 trr.vcn\n' +
    '$ cd ..\n' +
    '$ cd zdvbsb\n' +
    '$ ls\n' +
    '293736 dtbzzl.ftj\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd ptzsl\n' +
    '$ ls\n' +
    '26404 jnsdzmbd\n' +
    '$ cd ..\n' +
    '$ cd wmqc\n' +
    '$ ls\n' +
    'dir dtbzzl\n' +
    'dir hdzmzc\n' +
    'dir nmmpwqvz\n' +
    'dir qjnm\n' +
    '$ cd dtbzzl\n' +
    '$ ls\n' +
    'dir hpzgnb\n' +
    '$ cd hpzgnb\n' +
    '$ ls\n' +
    '189696 sbmdrbm\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd hdzmzc\n' +
    '$ ls\n' +
    '143510 dtbzzl.dmp\n' +
    '$ cd ..\n' +
    '$ cd nmmpwqvz\n' +
    '$ ls\n' +
    '276725 nhm.zhz\n' +
    '$ cd ..\n' +
    '$ cd qjnm\n' +
    '$ ls\n' +
    '202264 cpqhb.jsf';

let terminalCommands = rawInput.split('\n');
let mockInput =
    '$ cd /\n' +
    '$ ls\n' +
    'dir a\n' +
    '14848514 b.txt\n' +
    '8504156 c.dat\n' +
    'dir d\n' +
    '$ cd a\n' +
    '$ ls\n' +
    'dir e\n' +
    '29116 f\n' +
    '2557 g\n' +
    '62596 h.lst\n' +
    '$ cd e\n' +
    '$ ls\n' +
    '584 i\n' +
    '$ cd ..\n' +
    '$ cd ..\n' +
    '$ cd d\n' +
    '$ ls\n' +
    '4060174 j\n' +
    '8033020 d.log\n' +
    '5626152 d.ext\n' +
    '7214296 k';
let mockTerminalCommands = mockInput.split('\n');

function isCommand(string) {
    if (string.includes('$')) {
        if(string.includes('ls ')) {
            return 'ls'
        } else if (string.includes('cd ..')) {
            return 'back'
        } else {
            let values = string.split(' ');
            return values[2];
        }
    } else {
        return false;
    }
}

function isDirectory(string) {
    if (string.includes('dir ')) {
        let values = string.split(' ');
        return values[1];
    } else {
        return false;
    }
}

function getFileSize(string) {
    let values = string.split(' ');
    return parseFloat(values[0]);
}


let fileTree = {
    root : {
        files: 0
    }
};
let currentDir = fileTree;
let currentDepth = 0;
let currentIndex = 0;

// let parentDir = null;
// let currentDir = fileTree.root;
let currentFilePath = 'root';
console.log(currentFilePath.split('/'));


for(let i = 0; i < terminalCommands.length; i++) {
    // skip the first command since we are assuming we are here
    console.log('---- command start', terminalCommands[i])
    if(terminalCommands[i].includes('cd /')){
        console.log(' cd root');
        continue;
    }
    let commandValue = isCommand(terminalCommands[i]);
    let dirValue = commandValue ? false : isDirectory(terminalCommands[i]);
    let fileSize = dirValue ? false : getFileSize(terminalCommands[i]);
    if(commandValue) {
        // skip this since we don't need any values from ls
        if(commandValue === 'ls') {
            continue;
        }
        if(commandValue === 'back') {
            console.log('going back a dir start: ', currentFilePath);
            let currentFilePathValues = currentFilePath.split('/');
            currentFilePathValues.pop();
            currentFilePath = currentFilePathValues.join('/');

            console.log('going back a dir end: ', currentFilePath);
            setCurrentDir();
        } else {
            // command is cd dirname
            console.log('changning currentFilePath start', currentFilePath);
            let currentFilePathValues = currentFilePath.split('/');
            currentFilePathValues.push(commandValue);
            currentFilePath = currentFilePathValues.join('/');
            console.log('changning currentFilePath start', currentFilePath);
        }
    }

    if(!commandValue) {
        if(dirValue) {
            setCurrentDir();
            // let currentFilePathValues = currentFilePath.split('/');
            //
            // for(let j = 0; j < currentFilePathValues.length; j++) {
            //     if(currentDir.hasOwnProperty(currentFilePathValues[j])) {
            //         currentDir = currentDir[currentFilePathValues[j]];
            //     } else {
            //         console.log(currentDir);
            //         console.log('Hey this object is missing a something in the filepath', currentFilePathValues[j]);
            //     }
            // }
            if(!Object.hasOwnProperty(currentDir[dirValue], 'files')) {
                currentDir[dirValue] = {files: 0};
                console.log('hey i switched to a dir without any files obj!');
            }


        }
        if(fileSize) {
            setCurrentDir();
            if( typeof currentDir.files !== "undefined") {
                console.log('adding files to currentDir', currentDir)
                currentDir.files += fileSize;
                addFilestoParentDir(currentFilePath, fileSize);
            } else {
                console.log('Uh oh, we are adding a file to a dir without a files property!');
                throw new Error('Uh oh, we are adding a file to a dir without a files property!');
            }

        }
    }
    console.log('---- command end ------')
}

function setCurrentDir() {
    let currentFilePathValues = currentFilePath.split('/');
    currentDir = fileTree;
    console.log('file tree base', fileTree);
    console.log('currentDir', currentDir);
    for(let j = 0; j < currentFilePathValues.length; j++) {
        if(currentDir.hasOwnProperty(currentFilePathValues[j])) {
            currentDir = currentDir[currentFilePathValues[j]];
        } else {
            console.log(currentDir);
            console.log('Hey this object is missing a something in the filepath', currentFilePathValues[j]);
        }
    }
}

function addFilestoParentDir(filePath, value) {
    let currentFilePathValues = filePath.split('/');
    // skip adding file values to root
    if(currentFilePathValues < 2) {
        return;
    }

    // let currentFileSizeVal = 0;
    // let tempCurrentDir = fileTree;
    // for(let j = 0; j < currentFilePathValues.length; j++) {
    //     if(tempCurrentDir.hasOwnProperty(currentFilePathValues[j])) {
    //         tempCurrentDir = tempCurrentDir[currentFilePathValues[j]];
    //     } else {
    //         console.log(tempCurrentDir);
    //         console.log('Hey the temptempCurrentDir is missing a something in the filepath', currentFilePathValues[j]);
    //     }
    // }
    // currentFileSizeVal = tempCurrentDir.files;

    // remove the last dir so we add to the parent
    currentFilePathValues.pop();
    let parentDir = fileTree;
    for(let j = 0; j < currentFilePathValues.length; j++) {
        if(parentDir.hasOwnProperty(currentFilePathValues[j])) {
            parentDir = parentDir[currentFilePathValues[j]];
        } else {
            console.log(parentDir);
            console.log('Hey the parentDir is missing a something in the filepath', currentFilePathValues[j]);
        }
    }
    parentDir.files += value;
    if(currentFilePathValues < 1) {
        return false;
    } else {
        let newPath = currentFilePathValues.join('/');
        addFilestoParentDir(newPath, value);
    }
}
        // currentFilePathValues.pop();


console.log('fileTree', fileTree);
const arrayOfFileSizesBelowLimit = [];
const maxFileSize = 100000;
for(let key in fileTree.root) {
    getFileSizesFromNode(fileTree.root, key);
}

function getFileSizesFromNode(object, key) {
    console.log('object', object);
    console.log('key', key);
    if(key === 'files') {
        console.log(' checking files');
        if (object[key] <= maxFileSize ){
            arrayOfFileSizesBelowLimit.push(object[key]);
            console.log(' checking files');
            return false;
        } else {
            console.log(`${object[key]} is less than than ${maxFileSize}`, object[key] <= maxFileSize );
        }
    } else {
        if(Object.keys(object).length > 1) {
            for(let subkey in object[key]) {
                getFileSizesFromNode(object[key], subkey);
            }
        }
    }
}
console.log('arrayOfFileSizesBelowLimit', arrayOfFileSizesBelowLimit);
let finalAnswer_p1 = arrayOfFileSizesBelowLimit.reduce((a, b) => a + b, 0);
console.log('finalAnswer', finalAnswer_p1);

